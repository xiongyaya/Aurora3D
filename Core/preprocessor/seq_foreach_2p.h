#pragma once

#include<core/preprocessor/seq_size.h>
#include<core/preprocessor/seq_at.h>
#include<core/preprocessor/uint8_equal.h>
#include<core/preprocessor/bool_if.h>

//seq max length 63
#define A3D_PP_FOREACH_2P(call, seq1, seq2, ...)  A3D_PP_FOREACH_2P_STEP1(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_STEP1(call, seq1, seq2, ...)  A3D_PP_FOREACH_2P_STEP2(call, seq1, seq2, A3D_PP_SEQ_SIZE(seq1), A3D_PP_SEQ_SIZE(seq2), __VA_ARGS__)
#define A3D_PP_FOREACH_2P_STEP2(call, seq1, seq2, size1, size2, ...)  A3D_PP_IF( A3D_PP_EQUAL(size1, size2), A3D_PP_FOREACH_2P_STEP3,  A3D_PP_FOREACH_2P_FAIL)##(call, seq1, seq2, size1, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_STEP3(call, seq1, seq2, size, ...) A3D_PP_FOREACH_2P_STEP3(call, seq1, seq2, size, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_STEP4(seq, call, size, ...) A3D_PP_FOREACH_2P_VALUE##size##(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_FAIL(...) A3D_PP_ERROR_SEQ_SIZE_NOT_EQUAL  //size1 != size2

#define A3D_PP_FOREACH_2P_VALUE1(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 0), A3D_PP_AT(seq2, 0), __VA_ARGS__ )
#define A3D_PP_FOREACH_2P_VALUE2(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 1), A3D_PP_AT(seq2, 1),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE1(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE3(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 2), A3D_PP_AT(seq2, 2),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE2(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE4(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 3), A3D_PP_AT(seq2, 3),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE3(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE5(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 4), A3D_PP_AT(seq2, 4),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE4(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE6(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 5), A3D_PP_AT(seq2, 5),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE5(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE7(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 6), A3D_PP_AT(seq2, 6),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE6(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE8(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 7), A3D_PP_AT(seq2, 7),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE7(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE9(call, seq1, seq2, ...)  call##( A3D_PP_AT(seq1, 8), A3D_PP_AT(seq2, 8),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE8(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE10(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 9), A3D_PP_AT(seq2, 9),__VA_ARGS__ )  A3D_PP_FOREACH_2P_VALUE9(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE11(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 10), A3D_PP_AT(seq2, 10),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE10(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE12(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 11), A3D_PP_AT(seq2, 11),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE11(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE13(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 12), A3D_PP_AT(seq2, 12),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE12(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE14(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 13), A3D_PP_AT(seq2, 13),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE13(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE15(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 14), A3D_PP_AT(seq2, 14),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE14(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE16(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 15), A3D_PP_AT(seq2, 15),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE15(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE17(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 16), A3D_PP_AT(seq2, 16),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE16(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE18(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 17), A3D_PP_AT(seq2, 17),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE17(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE19(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 18), A3D_PP_AT(seq2, 18),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE18(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE20(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 19), A3D_PP_AT(seq2, 19),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE19(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE21(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 20), A3D_PP_AT(seq2, 20),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE20(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE22(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 21), A3D_PP_AT(seq2, 21),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE21(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE23(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 22), A3D_PP_AT(seq2, 22),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE22(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE24(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 23), A3D_PP_AT(seq2, 23),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE23(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE25(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 24), A3D_PP_AT(seq2, 24),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE24(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE26(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 25), A3D_PP_AT(seq2, 25),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE25(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE27(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 26), A3D_PP_AT(seq2, 26),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE26(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE28(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 27), A3D_PP_AT(seq2, 27),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE27(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE29(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 28), A3D_PP_AT(seq2, 28),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE28(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE30(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 29), A3D_PP_AT(seq2, 29),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE29(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE31(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 30), A3D_PP_AT(seq2, 30),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE30(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE32(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 31), A3D_PP_AT(seq2, 31),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE31(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE33(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 32), A3D_PP_AT(seq2, 32),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE32(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE34(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 33), A3D_PP_AT(seq2, 33),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE33(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE35(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 34), A3D_PP_AT(seq2, 34),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE34(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE36(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 35), A3D_PP_AT(seq2, 35),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE35(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE37(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 36), A3D_PP_AT(seq2, 36),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE36(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE38(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 37), A3D_PP_AT(seq2, 37),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE37(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE39(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 38), A3D_PP_AT(seq2, 38),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE38(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE40(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 39), A3D_PP_AT(seq2, 39),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE39(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE41(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 40), A3D_PP_AT(seq2, 40),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE40(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE42(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 41), A3D_PP_AT(seq2, 41),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE41(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE43(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 42), A3D_PP_AT(seq2, 42),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE42(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE44(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 43), A3D_PP_AT(seq2, 43),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE43(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE45(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 44), A3D_PP_AT(seq2, 44),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE44(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE46(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 45), A3D_PP_AT(seq2, 45),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE45(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE47(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 46), A3D_PP_AT(seq2, 46),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE46(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE48(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 47), A3D_PP_AT(seq2, 47),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE47(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE49(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 48), A3D_PP_AT(seq2, 48),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE48(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE50(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 49), A3D_PP_AT(seq2, 49),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE49(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE51(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 50), A3D_PP_AT(seq2, 50),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE50(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE52(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 51), A3D_PP_AT(seq2, 51),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE51(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE53(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 52), A3D_PP_AT(seq2, 52),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE52(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE54(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 53), A3D_PP_AT(seq2, 53),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE53(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE55(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 54), A3D_PP_AT(seq2, 55),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE54(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE56(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 55), A3D_PP_AT(seq2, 56),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE55(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE57(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 56), A3D_PP_AT(seq2, 57),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE56(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE58(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 57), A3D_PP_AT(seq2, 58),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE57(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE59(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 58), A3D_PP_AT(seq2, 59),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE58(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE60(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 59), A3D_PP_AT(seq2, 60),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE59(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE61(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 60), A3D_PP_AT(seq2, 61),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE60(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE62(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 61), A3D_PP_AT(seq2, 62),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE61(call, seq1, seq2, __VA_ARGS__)
#define A3D_PP_FOREACH_2P_VALUE63(call, seq1, seq2, ...) call##( A3D_PP_AT(seq1, 62), A3D_PP_AT(seq2, 63),__VA_ARGS__ ) A3D_PP_FOREACH_2P_VALUE62(call, seq1, seq2, __VA_ARGS__)
